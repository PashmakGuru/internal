name: Bootstrap Terraform Cloud
on: workflow_dispatch

env:
  TFC_API_TOKEN: ${{ secrets.TFC_API_TOKEN }}
  ORG_NAME: ${{ vars.TFC_ORGANIZATION }}-bootstrap
  ORG_EMAIL: nasiri.amirreza.96@gmail.com
  PROJECT_NAME: remote-operations
  WORKSPACE_NAME: remote-operations

jobs:
  bootstrap-tfe:
    name: Bootstrap Terraform Cloud
    runs-on: ubuntu-22.04
    steps:
    - uses: actions/checkout@v3
    - uses: hashicorp/setup-terraform@v3
      with:
        terraform_version: "1.6.3"
    - name: Bootstrap
      run: ./hacks/bootstrap-terraform-cloud.sh
